---
title: SmartKarrot API Reference

language_tabs: # must be one of https://git.io/vQNgJ
  - swift
  - java
  - javascript

toc_footers:
  - <a href='#'>Sign Up for a Developer Key</a>

includes:
  - errors

search: true
---

# Introduction

Welcome to the SmartKarrot API! SmartKarrot offers private REST APIs for all its SaaS services. Our APIs make it easier to quickly configure and integrate otherwise complex functionalities like referrals, user segmentation, geofencing, actions like rich push, gamification, surveys and feedback, analytics, donations, a full-fledged journey designer, wallets for cryptocurrency and fiat currency, and smart contracts on public and permissioned blockchains.

We have language bindings in Swift, Java, and JavaScript! You can view code examples in the dark area to the right, and you can switch the programming language of the examples with the tabs in the top right.

# Sandbox

SmartKarrot's sandbox site is an instance of the SmartKarrot SaaS platform. It offers the full SmartKarrot functionality with certain rate control limits. Financial transactions involving fiat and cryptocurrency use test funds and not real funds.

## Sandbox URLs

**REST API**   [https://api.sandbox.smartkarrot.com/](https://api.sandbox.smartkarrot.com/)

## Create Your Account

Go to the [sandbox site](https://sandbox.smartkarrot.com) to register for a sandbox account to start using the SDK.

# Authentication 

## Signing Requests

## Making a Request

## Security Best Practices

# Pagination

Top-level APIs have support for bulk fetches using "list" API methods. For example, you can list successful referrals, and the users in a segment. Paginated APIs use at least these two parameters: startingAfter and limit.

# Idempotent Requests

SmartKarrot API supports idempotency for safely retrying requests without accidentally performing the same operation twice. This is useful when an API call is disrupted in transit and you do not receive a response. For example, if a request to log an app event fails due to a network connection error, you can retry the request with the same idempotency key to guarantee that only a single event is created.

An idempotency key is a unique value generated by the client which the server uses to recognize subsequent retries of the same request. How you create unique keys is up to you, but we suggest using version 4 UUIDs, or another random string with enough entropy to avoid collisions.

To perform an idempotent request, provide a key to setIdempotencyKey() on a request.

# Versioning

# Errors




# Data Types

The SDK uses the following data types.

Type      | Description
--------- | -----------
string    | A simple quoted string, following standard JSON rules; see the [JSON spec](http://json.org/) for details.
integer	  | A whole number, transmitted as a JSON number.
boolean	  | A JSON boolean, the literal string true or false.
array	    | A JSON array. Each element contains a payload that will be described.
timestamp | Time in UTC stored in the [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) format with millisecond precision. (Example: 2018-09-29T09:58:44.635Z)
uuid      | A UUID string. Preferably a version 4 UUID. Example: `f30ccccf-54a8-49bf-b3e4-6eee274810ab`.
decimal   | A decimal value, encoded in a JSON string. The contents will be a series of digits, followed by an optional decimal point and additional digits.

# Authentication

> To authorize, use this code:

```ruby
require 'smartkarrot_core'

api = SmartKarrot::APIClient.authorize!('api_key')
```

```python
import smartkarrot_core

api = smartkarrot.authorize('api_key')
```

```shell
# With shell, you can just pass the correct header with each request
curl "api_endpoint_here"
  -H "Authorization: api_key"
```

```javascript
const smartkarrot = require('smartkarrot_core');

let api = smartkarrot.authorize('api_key');
```

> Make sure to replace `api_key` with your API key.

SmartKarrot uses API keys to allow access to the API. You can register a new SmartKarrot API key at our [developer portal](http://smartkarrot.com/developers).

SmartKarrot expects for the API key to be included in all API requests to the server in a header that looks like the following:

`Authorization: api_key`

<aside class="notice">
You must replace <code>api_key</code> with your personal API key.
</aside>

# Usage Analytics (Core) APIs

## Log User Attribute

## Log App Events

```ruby
require 'smartkarrot_core'

api = SmartKarrot::APIClient.authorize!('api_key')
api.smartkarrot.get
```

```python
import smartkarrot_core

api = smartkarrot_core.authorize('api_key')
api.referrals.get()
```

```shell
curl "http://example.com/api/referrals"
  -H "Authorization: api_key"
```

```javascript
const smartkarrot_core = require('smartkarrot_core');

let api = smartkarrot_core.authorize('api_key');
let referrals = api.referrals.get();
```

> The above command returns JSON structured like this:

```json
[
  {
    "id": 1,
    "name": "Fluffums",
    "breed": "calico",
    "fluffiness": 6,
    "cuteness": 7
  },
  {
    "id": 2,
    "name": "Max",
    "breed": "unknown",
    "fluffiness": 5,
    "cuteness": 10
  }
]
```

The endpoint logs a set of app events.

### HTTPS Request

`POST https://api.smartkarrot.com/v1/logEvents`

### Query Parameters

Parameter    | Type      | Required | Description
------------ | --------- | -------- | -------------------------
eventId      | uuid      | required | A unique identifier for the event.
eventName    | string    | required | The name of the event. Example: "Purchased Product". Event names can be up to 40 characters.
loggedAtTime | timestamp | required | The time at which the event was generated.
attributes   | node      | optional | Attributes of the event. An event can have up to ten attributes.

An attribute of the event is a key value pair.

Parameter    | Type      | Required | Description
------------ | --------- | -------- | -------------------------
key          | string    | required | The attribute name. Example: "SKU". Attribute names can be up to 40 characters.
value        | multiple  | required | The value of the attribute. Example: "UA064-8365". Values can be of type string, integer, decimal or date. Values of type string can be up to 40 characters long.


<aside class="warning">
Remember â€” Use an idempotency key to ensure that an event is not logged twice. This can happen when an API call is disrupted in transit due to a network connection error and you do not receive a response. You can retry the request with the same idempotency key to guarantee that only a single event is created.
</aside>

# Referral APIs

# Segmentation APIs

# Analytics APIs

# Rich Push APIs

# Geofencing APIs

# Gamification APIs

# Journey Design APIs

# Donation APIs

# Wallet APIs
